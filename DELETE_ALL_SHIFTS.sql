-- =====================================================
-- حذف جميع الورديات المغلقة لإعادة التخزين من جديد
-- =====================================================

-- 1. حذف جميع المصروفات المؤرشفة في الورديات (أولاً بسبب foreign key)
DELETE FROM shift_closure_expenses;

-- 2. حذف جميع الورديات المغلقة
DELETE FROM shift_closures;

-- 3. حذف جميع المصروفات من القائمة الرئيسية
DELETE FROM expenses;

-- رسالة تأكيد
DO $$
BEGIN
  RAISE NOTICE 'تم حذف جميع البيانات بنجاح!';
  RAISE NOTICE '✅ تم حذف جميع الورديات المغلقة';
  RAISE NOTICE '✅ تم حذف جميع المصروفات المؤرشفة';
  RAISE NOTICE '✅ تم حذف جميع المصروفات الرئيسية';
  RAISE NOTICE 'يمكنك الآن إضافة مصروفات جديدة وإغلاق وردية جديدة';
END $$;
